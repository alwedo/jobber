
<!DOCTYPE html>
<html lang="en">
    <link rel="icon" type="image/svg+xml"
          href="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3C!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools --%3E%3Csvg fill='%23000000' version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='21px' height='21px' viewBox='0 0 100 100' enable-background='new 0 0 100 100' xml:space='preserve'%3E%3Cg%3E%3Cpath d='M26.258,64.949c-4.848,0-8.78,3.93-8.78,8.784c0,4.848,3.932,8.782,8.78,8.782c4.855,0,8.784-3.934,8.784-8.782 C35.042,68.878,31.113,64.949,26.258,64.949z'/%3E%3Cpath d='M23.536,40.801c-0.046,0-0.09,0.006-0.135,0.007v-0.007h-3.464v0.039c-1.698,0.193-3.021,1.603-3.056,3.344h-0.007v6.159 h0.041c0.19,1.581,1.437,2.822,3.021,3.002v0.039h3.464v-0.048c0.045,0.001,0.09,0.007,0.135,0.007 c12.772,0,23.173,10.321,23.311,23.061h-0.033v3.464h0.039c0.193,1.698,1.603,3.021,3.344,3.056v0.007h6.158v-0.041 c1.581-0.19,2.822-1.437,3.002-3.021h0.039v-3.464h-0.006C59.252,56.748,43.223,40.801,23.536,40.801z'/%3E%3Cpath d='M83.119,76.403C82.98,43.664,56.308,17.07,23.536,17.07c-0.046,0-0.09,0.006-0.135,0.007V17.07h-3.464v0.039 c-1.698,0.193-3.021,1.603-3.056,3.344h-0.007v6.159h0.041c0.19,1.582,1.437,2.822,3.021,3.002v0.039h3.464v-0.048 c0.045,0.001,0.09,0.007,0.135,0.007c25.857,0,46.902,20.967,47.041,46.792h-0.035v3.464h0.039 c0.193,1.698,1.603,3.021,3.344,3.056v0.007h6.159v-0.041c1.581-0.19,2.822-1.437,3.002-3.021h0.039v-3.464H83.119z'/%3E%3C/g%3E%3C/svg%3E" />
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>rssjobs</title>
        <script src="https://unpkg.com/htmx.org@1.9.10"></script>
        <style>
            .centered-form {
                display: block;
                margin: 0 auto;
                text-align: center;
            }

            .htmx-indicator {
                opacity: 0;
                visibility: hidden;
            }
            .htmx-request .htmx-indicator,
            .htmx-request.htmx-indicator {
                opacity: 1;
                visibility: visible;
                transition: opacity 200ms ease-in;
            }

            #content.htmx-indicator {
                opacity: 1;
                visibility: visible;
                transition: opacity 200ms ease-in;
            }
            #content.htmx-request #content.htmx-indicator,
            #content.htmx-request.htmx-indicator {
                opacity: 0;
                visibility: hidden;
            }

            .copy-feedback {
                display: block;
                color: #28a745;
                font-size: 14px;
                margin-top: 5px;
                opacity: 0;
                transition: opacity 0.3s ease-in-out;
            }

            .copy-feedback.show {
                opacity: 1;
            }

            .new-entry {
                font-weight: bold;
            }
        </style>
    </head>
    <body>
        <header>
            <p style="text-align: center"><b>rssjobs</b> - dynamic job search RSS feed generator<br>---<br><i>create your own feed<br>wait for the offers to come<br>apply for the jobs</i><br>---</p>
        </header>

<main>
    <p style="text-align: center">no feed has been found for <b>fluffy dogs</b> jobs in <b>the moon</b><br>
        try creating a new job search feed <a href="/">here</a>
    </p>
    
</main>

<footer>
    <p style="text-align: center">---<br>this website does not use cookies, <i>hooray!</i><br><br>
    <a href="https://github.com/alwedo/jobber" target="_blank">
        <svg viewBox="0 0 98 96" width="15" height="15" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#24292f"/>
        </svg>
    </a></p>
</footer>
</body>


<script>
function copyToClipboard(url) {
  navigator.clipboard
    .writeText(url)
    .then(() => {
      showCopyFeedback();
    })
    .catch((err) => {
      console.error("Failed to copy: ", err);
      showCopyFeedback("Failed to copy");
    });
}

function showCopyFeedback(message = "Copied!") {
  let feedback = document.querySelector(".copy-feedback");
  if (!feedback) {
    feedback = document.createElement("div");
    feedback.className = "copy-feedback";
    document.querySelector(".copy-button").parentNode.appendChild(feedback);
  }
  feedback.textContent = message;
  feedback.classList.add("show");

  setTimeout(() => {
    feedback.classList.remove("show");
  }, 2000);
}

function getLocalStorageKey() {
  const url = new URL(window.location);
  const params = new URLSearchParams(url.search);
  const localStorageKey = `${params.getAll("keywords").join("+")}/${params.get(
    "location"
  )}`;

  return localStorageKey;
}

const feedItems = document.querySelectorAll(".details-wrapper details summary");
const latestFeedItemOnPage = feedItems[0].innerText;

const pageTitle = "rssjobs";
const pageTitleNewJobs = (nrOfNewPosts) =>
  `${pageTitle} - feed updated with ${nrOfNewPosts} ${
    nrOfNewPosts === 1 ? "post" : "posts"
  } `;

function highlightLatestAdditions() {
  const latestFeedItemLocalStorage = localStorage.getItem(getLocalStorageKey());

  if (latestFeedItemLocalStorage !== latestFeedItemOnPage) {
    const indexOfLatestPost = Array.from(feedItems).findIndex(
      (item) => item.innerText === latestFeedItemLocalStorage
    );
    document.title = pageTitleNewJobs(indexOfLatestPost);

    const nrOfNewItems =
      indexOfLatestPost !== -1 ? indexOfLatestPost : feedItems.length;

    for (let i = 0; i < nrOfNewItems; i++) {
      feedItems[i].classList.add("new-entry");
    }
  }
}

function autoRefresh() {
  location.reload();
}

if (window.location.pathname === "/feeds") {
  const thirtyMinutes = 30 * 60 * 1000;
  setInterval(autoRefresh, thirtyMinutes);

  window.addEventListener("onLoad", () => {
    highlightLatestAdditions();
    localStorage.setItem(getLocalStorageKey(), latestFeedItemOnPage);
  });
  window.addEventListener("focus", () => {
    document.title = pageTitle;
  });
} else {
  window.removeEventListener("focus");
  window.removeEventListener("onLoad");
}

</script>

</html>
